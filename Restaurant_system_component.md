# Restaurant System Component Diagram
----

## 使用場景
- 根據訂單內容安排備餐排程，追蹤備餐進度並更新訂單狀態。
- 協助廚房有效管理訂單備餐流程。

## 訂單接收服務 (Order Receiving Service)
負責根據訂單內容與廚房資源安排備餐排程，追蹤備餐進度並即時更新訂單狀態，協助廚房有效管理訂單備餐流程。

| 元件名稱 |	功能說明 |
| ----- | -------- | 
| 訂單接收元件 Order Receiver | 	接收點餐核心系統派送的訂單，負責訂單資料的接收與初步驗證。 | 
| 訂單狀態更新元件 Order Status Updater | 	更新訂單在餐廳系統內的狀態（如：已接單、備餐中、備餐完成）。 | 
| 訂單事件發布元件 Order Event Publisher | 	將訂單狀態變更事件發布到事件總線，通知派單服務及配送追蹤服務。 | 

## 備餐管理服務 (Preparation Management Service)
負責根據訂單內容與廚房資源安排備餐排程，追蹤備餐進度並即時更新訂單狀態，協助廚房有效管理訂單備餐流程。

| 元件名稱 |	功能說明 |
| ----- | -------- | 
| 備餐排程元件 Preparation Scheduler | 	根據訂單內容與餐廳廚房狀態，安排備餐順序與資源分配。 | 
| 備餐狀態追蹤元件 Preparation Status Tracker | 	追蹤備餐進度，實時更新備餐狀態並反饋給訂單狀態更新元件。 | 

## 外送員管理服務 (Courier Management Service)
負責指派外送員取餐與配送，監控外送員的取餐與配送狀態，確保配送過程順利並即時回報狀態給系統。

| 元件名稱 |	功能說明 |
| ----- | -------- | 
| 外送員指派元件 Courier Assignment Component | 	根據訂單備餐完成狀態，指派外送員取餐並開始配送。 | 
| 外送員狀態監控元件 Courier Status Monitor | 	監控外送員的取餐狀態與配送進度，並回傳配送追蹤服務。 | 

## 通知服務 (Notification Service)
負責向餐廳員工及外送員發送各類通知，如新訂單提醒、備餐狀態更新及配送指令，確保相關人員即時掌握訊息。

| 元件名稱 |	功能說明 |
| ----- | -------- | 
| 餐廳通知元件 Restaurant Notification Sender | 	向餐廳員工發送新訂單提醒、備餐狀態變更通知。 | 
| 外送員通知元件 Courier Notification Sender | 	向外送員推送取餐任務及配送指令。 | 

## 事件總線 (EventBus)
提供系統內事件的發布與訂閱機制，支援不同服務間非同步通訊，協調訂單、備餐及配送等流程的狀態同步與事件傳遞。

| 元件名稱 |	功能說明 |
| ----- | -------- | 
| 事件發布元件 Event Publisher |	負責將餐廳系統內的訂單狀態變更、備餐完成等事件發布到事件總線。 |
| 事件訂閱元件 Event Subscriber |	訂閱點餐核心系統及配送系統的相關事件，協調餐廳內部流程。 |

## 目標
- 精確安排備餐順序與資源，避免延誤。
- 即時更新備餐狀態，讓訂單核心系統與用戶端能及時獲得資訊。
- 保持系統穩定，支持高峰期訂單處理。

### 建議 SLO
| 指標 |	目標值 |	備註 |
| ----- | -------- | -------- |
| 備餐狀態更新延遲 |	95% 狀態更新 < 5秒 |	保持備餐狀態即時性 |
| 備餐任務成功率 |	≥ 99.9% |	備餐任務被正確接收與執行 |
| 系統可用率 |	≥ 99.9% |	保持系統穩定運行 |
